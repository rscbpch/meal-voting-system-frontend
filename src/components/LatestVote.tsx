import React from "react";

interface LatestVoteProps {
  name: string;
  id: number;
  description: string;
  totalVote: number;
  votedAt: string;
  imgURL: string;
}

const LatestVote: React.FC<LatestVoteProps> = ({
  name,
  votedAt,
  description,
  totalVote,
  imgURL,
}) => {
  return (
    <div className="bg-white rounded-xl shadow-md relative min-h-[180px] p-4 sm:p-6">
      {/* Mobile Layout (default) */}
      <div className="block lg:hidden">
        {/* Image Section */}
        <div className="flex justify-center mb-4">
          <div className="relative -top-8">
            {imgURL ? (
              <img
                src={imgURL}
                alt={name}
                className="w-32 h-32 sm:w-40 sm:h-40 object-cover rounded-full shadow-xl border-4 border-white"
              />
            ) : (
              <div className="w-32 h-32 sm:w-40 sm:h-40 bg-gray-100 rounded-full shadow-inner border-4 border-white" />
            )}
          </div>
        </div>

        {/* Content Section */}
        <div className="text-center space-y-3">
          <h1 className="font-bold text-xl sm:text-2xl">{name}</h1>
          
          {/* Vote Count */}
          <div className="flex items-center justify-center gap-2">
            <svg
              width="20"
              height="20"
              viewBox="0 0 22 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.46427 3.92859C6.99995 3.92859 6.54018 4.02004 6.11121 4.19773C5.68224 4.37542 5.29246 4.63585 4.96414 4.96418C4.63582 5.2925 4.37538 5.68227 4.19769 6.11124C4.02001 6.54022 3.92855 6.99999 3.92855 7.4643C3.92855 7.92862 4.02001 8.38839 4.19769 8.81736C4.37538 9.24634 4.63582 9.63611 4.96414 9.96443C5.29246 10.2928 5.68224 10.5532 6.11121 10.7309C6.54018 10.9086 6.99995 11 7.46427 11C8.402 11 9.30132 10.6275 9.9644 9.96443C10.6275 9.30136 11 8.40203 11 7.4643C11 6.52657 10.6275 5.62725 9.9644 4.96418C9.30132 4.3011 8.402 3.92859 7.46427 3.92859ZM5.10713 7.4643C5.10713 7.15476 5.1681 6.84825 5.28655 6.56226C5.40501 6.27628 5.57864 6.01643 5.79752 5.79755C6.0164 5.57867 6.27625 5.40504 6.56223 5.28659C6.84821 5.16813 7.15472 5.10716 7.46427 5.10716C7.77381 5.10716 8.08033 5.16813 8.36631 5.28659C8.65229 5.40504 8.91214 5.57867 9.13102 5.79755C9.3499 6.01643 9.52353 6.27628 9.64198 6.56226C9.76044 6.84825 9.82141 7.15476 9.82141 7.4643C9.82141 8.08946 9.57307 8.689 9.13102 9.13105C8.68897 9.5731 8.08942 9.82145 7.46427 9.82145C6.83912 9.82145 6.23957 9.5731 5.79752 9.13105C5.35547 8.689 5.10713 8.08946 5.10713 7.4643ZM15.7143 5.50002C14.9849 5.50002 14.2854 5.78975 13.7697 6.30547C13.254 6.8212 12.9643 7.52067 12.9643 8.25002C12.9643 8.97936 13.254 9.67884 13.7697 10.1946C14.2854 10.7103 14.9849 11 15.7143 11C16.4436 11 17.1431 10.7103 17.6588 10.1946C18.1745 9.67884 18.4643 8.97936 18.4643 8.25002C18.4643 7.52067 18.1745 6.8212 17.6588 6.30547C17.1431 5.78975 16.4436 5.50002 15.7143 5.50002ZM14.1428 8.25002C14.1428 7.83325 14.3084 7.43355 14.6031 7.13885C14.8978 6.84415 15.2975 6.67859 15.7143 6.67859C16.131 6.67859 16.5307 6.84415 16.8254 7.13885C17.1201 7.43355 17.2857 7.83325 17.2857 8.25002C17.2857 8.66679 17.1201 9.06648 16.8254 9.36118C16.5307 9.65588 16.131 9.82145 15.7143 9.82145C15.2975 9.82145 14.8978 9.65588 14.6031 9.36118C14.3084 9.06648 14.1428 8.66679 14.1428 8.25002ZM1.57141 14.3393C1.57141 13.8704 1.75767 13.4208 2.0892 13.0892C2.42074 12.7577 2.8704 12.5714 3.33927 12.5714H11.5893C12.0581 12.5714 12.5078 12.7577 12.8393 13.0892C13.1709 13.4208 13.3571 13.8704 13.3571 14.3393V14.7565C13.3565 14.8201 13.3521 14.8836 13.3438 14.9467C13.3261 15.1087 13.2972 15.2694 13.2573 15.4275C13.1272 15.9434 12.8956 16.4282 12.5761 16.8536C11.7794 17.9167 10.2598 18.8572 7.46427 18.8572C4.6687 18.8572 3.14913 17.9167 2.35241 16.8536C2.0332 16.4281 1.80189 15.9433 1.67198 15.4275C1.62056 15.2221 1.58769 15.0126 1.57377 14.8013L1.57141 14.7565V14.3393ZM2.74998 14.7282V14.7424L2.75705 14.8209C2.76491 14.8948 2.78063 15.0056 2.8152 15.1415C2.9068 15.5049 3.06972 15.8465 3.29448 16.1464C3.82405 16.8512 4.95627 17.6786 7.46427 17.6786C9.97227 17.6786 11.1045 16.8512 11.6333 16.1464C11.9083 15.7803 12.045 15.4142 12.1126 15.1415C12.1457 15.0106 12.1675 14.877 12.1778 14.7424L12.1786 14.7282V14.3393C12.1786 14.183 12.1165 14.0331 12.006 13.9226C11.8954 13.8121 11.7456 13.75 11.5893 13.75H3.33927C3.18298 13.75 3.03309 13.8121 2.92258 13.9226C2.81207 14.0331 2.74998 14.183 2.74998 14.3393V14.7282ZM13.4357 16.9872C14.0431 17.1734 14.7926 17.2857 15.7127 17.2857C17.8891 17.2857 19.1054 16.6603 19.7662 15.906C20.03 15.6072 20.2257 15.2547 20.3398 14.8728C20.3844 14.7185 20.4131 14.56 20.4254 14.3998L20.427 14.3629V14.3393C20.427 13.8704 20.2407 13.4208 19.9092 13.0892C19.5777 12.7577 19.128 12.5714 18.6591 12.5714H13.431C13.7406 12.8944 13.9668 13.299 14.0737 13.75H18.6599C18.8148 13.75 18.9636 13.811 19.0738 13.9198C19.1841 14.0286 19.2471 14.1765 19.2492 14.3314L19.2453 14.3676C19.2374 14.4268 19.2251 14.4854 19.2083 14.5428C19.142 14.76 19.0295 14.9602 18.8783 15.1297C18.5083 15.554 17.6628 16.1072 15.7127 16.1072C14.9733 16.1072 14.3927 16.0278 13.9362 15.9052C13.8158 16.2856 13.6476 16.6491 13.4357 16.9872Z"
                fill="#3A4038"
              />
            </svg>
            <p className="text-sm text-gray-700">{totalVote}</p>
          </div>

          {/* Description */}
          <div className="text-sm text-gray-600 max-h-20 overflow-y-auto">
            <p className="text-base font-bold mb-1">Description</p>
            <p className="text-sm text-[#949494]">
              {description || "No description available."}
            </p>
          </div>

          {/* Voted Date */}
          <div className="text-sm text-gray-500 pt-2 border-t border-gray-200">
            <p className="font-bold">Voted At:</p>
            <p className="text-sm">{new Date(votedAt).toLocaleString()}</p>
          </div>
        </div>
      </div>

      {/* Desktop Layout (lg and above) */}
      <div className="hidden lg:grid lg:grid-cols-[200px_1fr_280px] gap-6 items-start relative h-full">
        {/* Column 1: Floating Image */}
        <div className="relative -top-20">
          {imgURL ? (
            <img
              src={imgURL}
              alt={name}
              className="w-52 h-52 object-cover rounded-full shadow-xl border-4 border-white"
            />
          ) : (
            <div className="w-52 h-52 bg-gray-100 rounded-full shadow-inner border-4 border-white" />
          )}
        </div>

        {/* Column 2: Details */}
        <div className="flex flex-col justify-center">
          <h1 className="font-bold text-2xl mb-2">{name}</h1>
          <div className="flex items-left gap-2 mb-4">
            <svg
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.46427 3.92859C6.99995 3.92859 6.54018 4.02004 6.11121 4.19773C5.68224 4.37542 5.29246 4.63585 4.96414 4.96418C4.63582 5.2925 4.37538 5.68227 4.19769 6.11124C4.02001 6.54022 3.92855 6.99999 3.92855 7.4643C3.92855 7.92862 4.02001 8.38839 4.19769 8.81736C4.37538 9.24634 4.63582 9.63611 4.96414 9.96443C5.29246 10.2928 5.68224 10.5532 6.11121 10.7309C6.54018 10.9086 6.99995 11 7.46427 11C8.402 11 9.30132 10.6275 9.9644 9.96443C10.6275 9.30136 11 8.40203 11 7.4643C11 6.52657 10.6275 5.62725 9.9644 4.96418C9.30132 4.3011 8.402 3.92859 7.46427 3.92859ZM5.10713 7.4643C5.10713 7.15476 5.1681 6.84825 5.28655 6.56226C5.40501 6.27628 5.57864 6.01643 5.79752 5.79755C6.0164 5.57867 6.27625 5.40504 6.56223 5.28659C6.84821 5.16813 7.15472 5.10716 7.46427 5.10716C7.77381 5.10716 8.08033 5.16813 8.36631 5.28659C8.65229 5.40504 8.91214 5.57867 9.13102 5.79755C9.3499 6.01643 9.52353 6.27628 9.64198 6.56226C9.76044 6.84825 9.82141 7.15476 9.82141 7.4643C9.82141 8.08946 9.57307 8.689 9.13102 9.13105C8.68897 9.5731 8.08942 9.82145 7.46427 9.82145C6.83912 9.82145 6.23957 9.5731 5.79752 9.13105C5.35547 8.689 5.10713 8.08946 5.10713 7.4643ZM15.7143 5.50002C14.9849 5.50002 14.2854 5.78975 13.7697 6.30547C13.254 6.8212 12.9643 7.52067 12.9643 8.25002C12.9643 8.97936 13.254 9.67884 13.7697 10.1946C14.2854 10.7103 14.9849 11 15.7143 11C16.4436 11 17.1431 10.7103 17.6588 10.1946C18.1745 9.67884 18.4643 8.97936 18.4643 8.25002C18.4643 7.52067 18.1745 6.8212 17.6588 6.30547C17.1431 5.78975 16.4436 5.50002 15.7143 5.50002ZM14.1428 8.25002C14.1428 7.83325 14.3084 7.43355 14.6031 7.13885C14.8978 6.84415 15.2975 6.67859 15.7143 6.67859C16.131 6.67859 16.5307 6.84415 16.8254 7.13885C17.1201 7.43355 17.2857 7.83325 17.2857 8.25002C17.2857 8.66679 17.1201 9.06648 16.8254 9.36118C16.5307 9.65588 16.131 9.82145 15.7143 9.82145C15.2975 9.82145 14.8978 9.65588 14.6031 9.36118C14.3084 9.06648 14.1428 8.66679 14.1428 8.25002ZM1.57141 14.3393C1.57141 13.8704 1.75767 13.4208 2.0892 13.0892C2.42074 12.7577 2.8704 12.5714 3.33927 12.5714H11.5893C12.0581 12.5714 12.5078 12.7577 12.8393 13.0892C13.1709 13.4208 13.3571 13.8704 13.3571 14.3393V14.7565C13.3565 14.8201 13.3521 14.8836 13.3438 14.9467C13.3261 15.1087 13.2972 15.2694 13.2573 15.4275C13.1272 15.9434 12.8956 16.4282 12.5761 16.8536C11.7794 17.9167 10.2598 18.8572 7.46427 18.8572C4.6687 18.8572 3.14913 17.9167 2.35241 16.8536C2.0332 16.4281 1.80189 15.9433 1.67198 15.4275C1.62056 15.2221 1.58769 15.0126 1.57377 14.8013L1.57141 14.7565V14.3393ZM2.74998 14.7282V14.7424L2.75705 14.8209C2.76491 14.8948 2.78063 15.0056 2.8152 15.1415C2.9068 15.5049 3.06972 15.8465 3.29448 16.1464C3.82405 16.8512 4.95627 17.6786 7.46427 17.6786C9.97227 17.6786 11.1045 16.8512 11.6333 16.1464C11.9083 15.7803 12.045 15.4142 12.1126 15.1415C12.1457 15.0106 12.1675 14.877 12.1778 14.7424L12.1786 14.7282V14.3393C12.1786 14.183 12.1165 14.0331 12.006 13.9226C11.8954 13.8121 11.7456 13.75 11.5893 13.75H3.33927C3.18298 13.75 3.03309 13.8121 2.92258 13.9226C2.81207 14.0331 2.74998 14.183 2.74998 14.3393V14.7282ZM13.4357 16.9872C14.0431 17.1734 14.7926 17.2857 15.7127 17.2857C17.8891 17.2857 19.1054 16.6603 19.7662 15.906C20.03 15.6072 20.2257 15.2547 20.3398 14.8728C20.3844 14.7185 20.4131 14.56 20.4254 14.3998L20.427 14.3629V14.3393C20.427 13.8704 20.2407 13.4208 19.9092 13.0892C19.5777 12.7577 19.128 12.5714 18.6591 12.5714H13.431C13.7406 12.8944 13.9668 13.299 14.0737 13.75H18.6599C18.8148 13.75 18.9636 13.811 19.0738 13.9198C19.1841 14.0286 19.2471 14.1765 19.2492 14.3314L19.2453 14.3676C19.2374 14.4268 19.2251 14.4854 19.2083 14.5428C19.142 14.76 19.0295 14.9602 18.8783 15.1297C18.5083 15.554 17.6628 16.1072 15.7127 16.1072C14.9733 16.1072 14.3927 16.0278 13.9362 15.9052C13.8158 16.2856 13.6476 16.6491 13.4357 16.9872Z"
                fill="#3A4038"
              />
            </svg>
            <p className="text-sm text-gray-700">{totalVote}</p>
          </div>
          <div className="text-sm text-gray-600 h-24 overflow-y-auto">
            <p className="text-lg font-bold mb-2">Description</p>
            <p className="text-sm text-[#949494]">
              {description || "No description available."}
            </p>
          </div>
        </div>

        {/* Column 3: Voted Date */}
        <div className="flex items-center justify-end mt-13 text-sm text-gray-500 gap-2">
          <p className="font-bold text-lg">Voted At:</p>
          <p className="text-lg">{new Date(votedAt).toLocaleString()}</p>
        </div>
      </div>
    </div>
  );
};

export default LatestVote;